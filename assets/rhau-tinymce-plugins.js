(()=>{"use strict";var u={};function c(t){const n="Select some text to enable",a="Add link to file";t.addButton("rhau_link_to_file",{title:"Add link to file",tooltip:n,icon:"rhau-link-to-file dashicons dashicons-paperclip",disabled:!0,onclick:s,onPostRender:function(){const o=this.getEl().querySelector("button")}});function s(){const o=t.selection.getContent();if(!o){alert("Please select the text you want to link.");return}const e=wp.media({title:"Select File",library:{type:["application/pdf","application/zip"]},multiple:!1,button:{text:"Select"}});function l(){const i=e.state().get("selection").first().toJSON();t.execCommand("mceInsertContent",!1,`<a href="${i.url}" target="_blank" download>${o}</a>`)}e.on("select",l).open()}t.on("NodeChange",function(o){const e=t.controlManager.buttons.rhau_link_to_file;if(!e)return;const i=!!t.selection.getContent();e.disabled(!i),e.settings.tooltip=i?a:n})}(function(){tinymce.create("tinymce.plugins.rhauTinyMcePlugins",{init:function(t,n){c(t)},createControl:function(t,n){return null}}),tinymce.PluginManager.add("rhauTinyMcePlugins",tinymce.plugins.rhauTinyMcePlugins)})()})();
