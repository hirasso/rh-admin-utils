parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function d(a){return a&&a.__esModule?{d:a.default}:{d:a}}var k=this;var b={};function f(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=m(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,n=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,a=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw a}}}}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var p={};function q(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}p=q;var s={};function h(e,r){for(var $=0;$<r.length;$++){var a=r[$];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,r,$){return r&&h(e.prototype,r),$&&h(e,$),e}s=u;var v=$=k.jQuery,j=function(){function e(){var t=this;var $fcMS$$interop$default=d(p);$fcMS$$interop$default.d(this,e),v(document).ready(function(){return t.onDocReady()}),this.reopenSavedAcfFieldObjects(),this.restoreScrollTop(),$("form#post").one("submit",function(e){return t.beforeSubmitPostForm(e)})}var $P8NW$$interop$default=d(s);return $P8NW$$interop$default.d(e,[{key:"onDocReady",value:function(){this.enableSubmitDiv(),this.initAdminBarButtons(),this.restoreScrollTop(),this.removeFromStore("scrollTop")}},{key:"beforeSubmitPostForm",value:function(e){this.saveOpenAcfFieldObjects(),this.addToStore("scrollTop",$(document).scrollTop())}},{key:"restoreScrollTop",value:function(){var e=this.getFromStore("scrollTop");e&&$(document).scrollTop(parseInt(e))}},{key:"initAdminBarButtons",value:function(){var e=$("#submitdiv input[id=\"publish\"]:visible"),t=$("#wp-admin-bar-rh-publish a");e.length&&t.text(e.val()).click(function(r){r.preventDefault(),e.click(),t.addClass("is-disabled")});var r=$("#submitdiv input[id=\"save-post\"]:visible"),o=$("#wp-admin-bar-rh-save a");r.length&&o.text(r.val()).click(function(e){e.preventDefault(),r.click(),o.addClass("is-disabled")}),"undefined"!=typeof acf&&void 0!==acf.addFilter&&acf.addFilter("validation_complete",function(e,r){return e.errors&&(t.length&&t.removeClass("is-disabled"),o.length&&o.removeClass("is-disabled")),e})}},{key:"enableSubmitDiv",value:function(){$("#submitdiv").addClass("rhau-enabled")}},{key:"addToStore",value:function(e,t){sessionStorage.setItem(this.getStorageKey(e),JSON.stringify(t))}},{key:"removeFromStore",value:function(e){sessionStorage.removeItem(this.getStorageKey(e))}},{key:"getFromStore",value:function(e){var t=sessionStorage.getItem(this.getStorageKey(e));return t?JSON.parse(t):t}},{key:"saveOpenAcfFieldObjects",value:function(){if("undefined"!=typeof acf&&"function"==typeof acf.getFieldObjects){var e=[];try{var t,r=f(acf.getFieldObjects());try{for(r.s();!(t=r.n()).done;){var o=t.value;o.isOpen()&&(o.close=function(){},e.push(o.getKey()))}}catch(a){r.e(a)}finally{r.f()}}catch(n){console.warn(n)}this.addToStore("open-acf-field-objects",e)}}},{key:"getNested",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r.reduce(function(e,t){return e&&e[t]},e)}},{key:"reopenSavedAcfFieldObjects",value:function(){if("undefined"!=typeof acf&&"function"==typeof acf.getFieldObjects){var e=this.getFromStore("open-acf-field-objects");if(e){try{var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=acf.getFieldObject(o),n=a.$el.children(".settings");a.$el.addClass("open"),n.css({display:"block"}),acf.doAction("open_field_object",a),a.trigger("openFieldObject"),acf.doAction("show",n)}}catch(i){r.e(i)}finally{r.f()}}catch(l){console.warn(l)}this.removeFromStore("open-acf-field-objects")}}}},{key:"getStorageKey",value:function(e){return e+":"+window.location.pathname.replace(/^\/+/g,"").split("/").join("-")}}]),e}();b.default=j,new j;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b}else if(typeof define==="function"&&define.amd){define(function(){return b})}b.__esModule=true;return{"oIgb":b};});